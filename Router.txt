Router>enable
Router#configure terminal
Router(config)#hostname R-SMK
R-SMK(config)#interface GigabitEthernet0/0
R-SMK(config-if)#no shutdown
R-SMK(config-if)#exit
R-SMK(config)#interface GigabitEthernet0/0.10
R-SMK(config-subif)#encapsulation dot1Q 10
R-SMK(config-subif)#ip address 192.168.10.1 255.255.255.0
R-SMK(config-subif)#exit
R-SMK(config)#interface GigabitEthernet0/0.20
R-SMK(config-subif)#encapsulation dot1Q 20
R-SMK(config-subif)#ip address 192.168.20.1 255.255.255.0
R-SMK(config-subif)#exit
R-SMK(config)#interface GigabitEthernet0/0.30
R-SMK(config-subif)#encapsulation dot1Q 30
R-SMK(config-subif)#ip address 192.168.30.1 255.255.255.0
R-SMK(config-subif)#exit
R-SMK(config)#ip dhcp pool VLAN20
R-SMK(dhcp-config)#network 192.168.20.0 255.255.255.0
R-SMK(dhcp-config)#default-router 192.168.20.1
R-SMK(dhcp-config)#dns-server 8.8.8.8
R-SMK(dhcp-config)#exit
R-SMK(config)#ip dhcp pool VLAN30
R-SMK(dhcp-config)#network 192.168.30.0 255.255.255.0
R-SMK(dhcp-config)#default-router 192.168.30.1
R-SMK(dhcp-config)#dns-server 8.8.8.8
R-SMK(dhcp-config)#exit
R-SMK(config)#ip dhcp excluded-address 192.168.20.1
R-SMK(config)#ip dhcp excluded-address 192.168.30.1
R-SMK(config)#exit
R-SMK#write memory
